![test pyramid.png](./image/test%20pyramid.png)

## 기능 테스트(E2E 테스트)

기능 테스트(Functional Testing)은 사용자 입장에서 시스템이 제공하는 기능이 올바르게 동작하는지를 테스트 한다.

예를 들어 회원가입 기능 테스트를 진행한다면 요청을 위한 웹 서버부터 데이터 저장을 위한 데이터 베이스 연동까지 기능에 대한 전체적인 구성 요소들이 모두 진행된다.

이는 끝(브라우저)에서 끝(데이터베이스)까지 모든 구성 요소를 논리적으로 완전한 하나의 기능으로 다룬다.

기능 테스트는 끝에서 끝까지 테스트하기 때문에 E2E(End to end) 테스트로도 볼수 있다.

기능 테스트를 통해 입력된 데이터로 인한 결과를 확인하는 절차를 테스트한다.

예를 들어 회원가입 폼을 통해서 가입되었을때 해당 정보로 로그인이 잘 되는지, 회원 정보로 조회될 때 가입할때 입력한 데이터가 올바르게 표시되는지 등을 확인한다.

## 통합 테스트(Integration 테스트)

통합 테스트는 시스템의 각 구현 요소가 올바르게 연동되는지 확인한다.

기능 테스트가 사용자 입장에서 테스트하는 데 반해 통합 테스트는 소프트웨어의 코드를 직접 테스트한다.

예를 들어 회원가입에 대한 기능 테스트는 앞서 얘기했듯이 브라우저 또는 앱을 통해 회원가입 기능을 테스트하는것이었다면 통합 테스트는 서버의 회원가입 코드를 직접 테스트 하는 것이다.

기능 테스트에서의 브라우저 연동까지는 하지 않지만 일반적으로 프레임워크 라이브러리, 데이터베이스, 구현된 코드가 주요 통합 테스트 대상이다.

회원 가입 통합 테스트를 통해 sql 쿼리 검증, 트랜잭션이 잘 동작하는지를 확인 할수 있다.

## 단위 테스트(Unit 테스트)

단위 테스트는 한 클래스나 한 메서드와 같은 작은 범위를 테스트한다.

일부 의존 대상은 스텁이나 모의 객체등을 이용해서 대역으로 대체한다.

기능 테스트와 통합테스트는 DB 연결, 브라우저 통신등 테스트 실행 속도를 저하시키는 요인들이 많지만 상대적으로 단위 테스트는 서버를 구동하거나 DB를 준비할 필요가 없다. 그렇기때문에 테스트 속도가 빠르다.

기능 테스트와 통합 테스트는 상황을 준비하거나 결과 확인이 어렵거나 불가능할때가 있다.

외부 시스템과 연동해야하는 기능이 특히 그런데 이런 경우에는 단위 테스트와 대역을 조합해서 상황을 만들고 결과를 확인한다.
